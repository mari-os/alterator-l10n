<!-- (C) 2009 Paul Wolneykien <manowar@altlinux.ru> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  </head>
  <body>
    <h2>Proxy-server</h2>

    <h3>Proxy-server configuration</h3>

    <p>A local network of computers can be connected to the
    global network (Internet) via a single data transmission channel
    (<em>gate</em>). One of the advantages of that networking solution
    is the possibility of use the caching proxy-server to cache incoming
    files. Popular pages would be cached at first visit, saved and
    reused responding to later requests. That would speed up request
    processing and reduce the amount of incoming <em>traffic</em>.</p>

    <p>Proxy-server listens to the incoming requests from the local
    network and, if necessary, transmits them to the outer network.
    Server waits for the incoming connection on the configured
    <em>port</em>, which by default has standard value 3128. If for some
    reason the use of that port is unwanted, any another value can be
    used.</p>
    
    <p>Source address of each request is checked for internal network
    membership. In order to forward the local network-originated
    requests the corresponding network address group should be added
    to the list of internal networks (subnet address and address mask)
    at the <em>Networks</em> section.</p>
    
    <p>An other restriction under which the request is forwarded is
    the <em>destination port</em> range. If the destination port number
    of the request is not contained in one of the registered port range
    the access to the outer network is denied. The list of registered
    port numbers (services) can be managed in the <em>Ports</em>
    section.</p>

    <p>Proxy-server can operate in two modes: <em>standard</em> and
    <em>transparent</em>. Standard mode implies (manual) reconfiguration
    of the programs in the local network. For that reason the other mode
    -- transparent -- became very popular. In transparent proxying mode
    all local network-originated requests sent to the registered
    services (ports) on the global network are automatically intercepted
    at the gate. Local network programs continue to work without any
    reconfiguration as there is no proxy at all. The main drawback of
    the transparent mode is the lack of any user identification
    mechanism -- all of the requests are anonymous.</p>

    <p>The main advantage of the standard proxying mode which can be
    used after reconfiguration of the programs in the local network are
    a number of user authentication mechanisms. To enable authentication
    select one of the <em>authentication methods</em> other than "no
    authentication".</p>

    <p>Outer network access policy consists of an authentication policy
    (method) and a number of user group based domain access policies.
    Use the <em>Groups</em> section to view and edit that
    policies. For each group of users a number of restricted
    (or allowed) domains can be defined. For the user group membership
    management system-wide module "Users/Groups" can be used. Access policies for
    special groups "All users" and "Authenticated users" are processed in a
    some different way than the individual policies for user groups.</p>

    <p>Allowing policy for "All users" is a white-list of domains with the
    highest priority: the access to the domains is granted to all users with no
    exceptions. It is useful when you do not care to deny access to some public
    sites such as search engines. However, when the domain list is empty, the
    access is granted to absolutely all sites. Could be useful to disable
    ACLs on the proxy server for a while.</p>

    <p>Allowing policy for "Authenticated users" is a white-list of domains with the
    second-to-top priority level: the access to the domains is granted to all
    authenticated users with no more exceptions. It is useful when you want to grant
    some more privileges to the logged-in users comparing to the anonymous ones.
    However, when the domain list is empty, the access is granted to absolutely all
    sites, if the user is logged-in. Useful when you want to restrict the Internet
    access only for anonymous users.</p>

    <p>Individual policies for user groups are point-like: allowing access to some
    domains doesn't mean that it is denied for other domains. Same thing for the denying
    policy. These policies have the mid-level priority and are useful to define
    exceptions.</p>

    <p>Denying policy for "Authenticated users" is a black-list of domains with the
    second-to-bottom priority level: the access to the listed domains is denied for
    a logged-in user if there is no individual policy that grants the access. Furthmore,
    the access is granted to all non-listed sites. The policy is useful when there are
    only few restrictions for logged-in users and more restrictions for anonymous ones.</p>

    <p>Denying policy for "All users" is a black-list of domains with the lowest priority:
    the access to the listed domains is denied for a user if any other policy doesn't grant
    the access and all non-listed sites are permitted. The policy is useful when there are
    only few restrictions for Internet access at all.</p>

    <h3>View proxy-server statistic reports</h3>
    <p>Information on every request forwarded to the outer network is
    fixed in the proxy-server log. That statistical data is processed 
    on a regular basis to emerge traffic reports. The reports include
    information on size of received responses and time consumed.
    The reports are accessible in the <em>Statistics/Proxy-server</em>
    module. If statistic collection is not switched on (<strong>Enable
    statistic data collection</strong>) new network usage data are
    not written to the statistical database.</p>

    <p>The main purpose of the module is the network usage statistic 
    display If one of the authentication method is used to control
    network access the reports are generated on per-user basis.
    Otherwise the local network address is used as request identifier.
    </p>

    <p>Displayed report is not updated automatically. To update it
    use "<strong>Update</strong>" button. Each update is done with the
    use of the selection settings which can be modified. Report records
    is ordered by the descending of the amount of the received data.
    </p>

  </body>
</html>
