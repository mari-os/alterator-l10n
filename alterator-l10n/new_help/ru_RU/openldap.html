<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  </head>
  <body>
    <h2>Служба каталогов</h2>
    <h3>Назначение модуля</h3>
    <p>
      Служба каталогов представляет собой средство
      централизованного хранения данных, организованных в виде
      древовидной (иерархической) структуры.
    </p>
    <p>
      Модуль предназначен для выполнения следующих операций:
      <ul>
	<li>настройка параметров приёма соединений;</li>
	<li>включение и выключение отдельных модулей сервера;</li>
	<li>создание и удаление баз данных;</li>
	<li>настройка параметров работы баз данных.</li>
      </ul>
    </p>
    <h3>Панель управления модулем</h3>
    <p>
      На первой странице панели управления производится настройка
      общих параметров работы сервера, таких как параметры приёма
      соединений (в том числе TLS), а так же создание и удаление баз
      данных (доменов). Вторая страница предназначена для конфигурации
      отдельных доменов.
    </p>
    <h4>Общие параметры конфигурации</h4>
    <p>
      В данном разделе расположен набор переключателей. Первые три из
      них: "<b>Принимать только локальные соединения</b>",
      "<b>Включить порт LDAP</b>" и "<b>Включить порт LDAPS</b>",
      предназначены для конфигурации режима приёма соединений.
    </p>
    <p>
      Следующие переключатели управляют загрузкой дополнительных
      модулей службы каталогов: переключатель "<b>Включить
      репликацию</b>" управляет загрузкой модуля репликации данных
      'syncprov', а переключатель "<b>Включить политику паролей</b>"
      загрузкой модуля 'ppolicy', расширяющего возможности сервера по
      аутентификации.
    </p>
    <h4>Настройка TLS</h4>
    <p>
      Настройка защищённого канала передачи данных требует указания
      набора параметров, для чего выделен отдельный раздел на
      основной странице панели управления.
    </p>
    <p>
      Решающим параметром раздела является переключатель "<b>Включить
      защиту транспортной подсистемы</b>": если данная функция не
      включена, то конфигурация осуществляется в пассивном режиме, и
      остальные параметры TLS не обрабатываются сервером.
    </p>
    <p>
      Следующая пара переключателей и связанных с ними полей
      предоставляет альтернативные способы указания сертификата
      Удостоверяющего Центра (УЦ). Первый вариант заключается в
      использовании единственного файла с одним или несколькими
      сертификатами доверяемых УЦ. Второй вариант позволяет
      использовать несколько сертификатов, каждый из которых находится
      в отдельном файле: для этого указывается путь к директории,
      содержащей сертификаты. Допустимым является использование
      обоих вариантов одновременно.
    </p>
    <p>
      Для завершения конфигурации TLS, необходимо указать сертификат
      сервера, подписанный одним из доверяемых УЦ, чей сертификат был
      указан выше. Кроме файла сертификата требуется указать также
      путь к файлу с секретным ключом, необходимым для использования
      шифрования.
    </p>
    <p>
      Дополнительной возможностью, повышающей безопасность системы,
      является проверка подлинности сертификата клиента, делающего
      запрос к серверу. Подлинность сертификата клиента должна быть
      подтверждена одним из доверяемых сервером УЦ. Данная процедура
      может выполняться в различных режимах, выбираемых с помощью
      параметра "<b>Режим проверки сертификата клиента</b>",
      принимающего фиксированный набор значений. Вариант
      "<i>Никогда</i>" соответствует поведению по умолчанию, при
      котором при подключении от клиента не требуется представление
      сертификата. Остальные варианты соответствуют постепенному
      ужесточению требований. Если выбран вариант
      "<b>Допускается</b>", то клиент может предоставить сертификат, и
      в этом случае будет выполнена попытка проверить его подлинность,
      но соединение будет установлено даже в случае если сертификат не
      пройдёт проверку или даже не будет представлен. Для следующего
      варианта "<b>Попытка</b>" клиент может установить соединение в
      двух случаях: не представляя сертификата, представляя подлинный
      с точки зрения сервера сертификат. Последний вариант
      "<b>Обязательно</b>" требует от клиента обязательного
      предоставления сертификата, заверенного одним из доверяемых УЦ.
    </p>
    <h4>Регистрация и удаление доменов</h4>
    <p>
      Разделение данных на домены позволяет изолированно хранить
      данные и использовать различные параметры процедур при операциях 
      с данными. Список зарегистрированных доменов отображается в
      таблице "<b>Домены</b>".
    </p>
    <p>
      Для редактирования параметров домена необходимо перейти на
      отдельную страницу панели управления, переход осуществляется по
      ссылке "<b>редактировать</b>" в последнем столбце таблицы.
      Удалить домен можно отметив его в таблице и нажав на кнопку
      "<b>Удалить выделенные</b>" (домены).
    </p>
    <p>
      Зарегистрировать новый домен можно указав его имя в поле
      "<b>Новый домен</b>", расположенном внизу страницы, и нажав на
      кнопку "<b>Создать</b>". После этого панель управления будет
      переведена в режим редактирования параметров нового домена.
    </p>
    <h4>Базовые параметры конфигурации домена</h4>
    <p>
      В число базовых параметров домена входят "<b>Базовый DN</b>",
      "<b>DN администратора</b>" и его пароль. Имя и пароль
      администратора домена позволяют подключаться к службе
      каталогов в режиме полного доступа и осуществлять любые
      изменения данных. Раздел формы завершается
      кнопками "<b>Применить</b>" и "<b>Сброс</b>", предназначенными
      для отправки введённых данных на обработку и возврату параметров
      в исходное состояние.
    </p>
    <h4>Конфигурация политики паролей</h4>
    <p>
      Настройка механизма политики паролей (политики аутентификации)
      производится в три этапа. Прежде всего должна быть включена
      загрузка соответствующего модуля расширения. За это отвечает
      параметр на основной странице панели управления. Следующим
      этапом является разрешение политики паролей в рамках конкретного
      домена, за это отвечает переключатель "<b>Включить политику
      паролей</b>" в разделе "<b>Конфигурация политики паролей</b>" на
      странице редактирования параметров домена.
    </p>
    <p>
      В том случае, если предполагается использовать одинаковую
      политику для всех объектов домена (таких как учётные записи
      пользователей, групп и ЭВМ), то имя узла БД, содержащего
      описание политики, может быть указано в поле "<b>Имя записи с
      политикой по умолчанию</b>". В противном случае данное поле
      должно оставаться пустым.
      </p>
    <p>
      Дополнительными параметрами конфигурации политики паролей на
      уровне домена, является переключатель шифрования открытых
      паролей и переключатель кода возврата, позволяющий включить
      оповещение клиента о том, что запись заблокирована (повышает
      прозрачность системы, и, соответственно, понижает уровень
      безопасности). Раздел формы завершается кнопками
      "<b>Применить</b>" и "<b>Сброс</b>", предназначенными для
      отправки введённых данных на обработку и возврату параметров в
      исходное состояние.
    </p>
    <h4>Режимы работы модуля репликации</h4>
    <p>
      В том случае, если в числе общих параметров сервера, была
      включена поддержка репликации данных, то служба каталогов может
      работать в трёх режимах: в автономном, в ведущем и в ведомом. В
      первом случае сервер отклоняет любые попытки других серверов
      синхронизировать данные, во втором случае предоставляет данные
      для синхронизации, а в последнем -- производит запросы на
      синхронизацию данных к другим серверам.
    </p>
    <h4>Конфигурация ведущего режима</h4>
    <p>
      За перевод сервера в ведущий режим отвечает переключатель
      "<b>Включить ведущий режим</b>". Дополнительными параметрами
      режима являются два порога по достижению любого из которых
      осуществляется передача данных для синхронизации: порог по
      количеству транзакций и временной порог. Данные параметры имеют
      по умолчанию значения 100 и 1, что означает что данные для
      синхронизации будут переданы либо после произведения 100
      транзакций (100 изменений в БД), либо по истечении 1 минуты, в
      зависимости от того, какое событие наступит раньше. Раздел формы
      завершается кнопками "<b>Применить</b>" и "<b>Сброс</b>",
      предназначенными для отправки введённых данных на обработку и
      возврату параметров в исходное состояние.
    </p>
    <h4>Конфигурация ведомого режима</h4>
    <p>
      За перевод сервера в ведущий режим отвечает переключатель
      "<b>Включить ведомый режим</b>". Дополнительными параметрами
      режима являются адрес (URL) ведущего сервера, куда отправляется
      запрос на синхронизацию, время ожидания ответа (с), имя
      корневого узла БД, поддерево которого синхронизируется, имя и
      пароль для подключения к ведущему серверу. В случае указания
      пустого имени и пароля будет осуществляться анонимный доступ к
      серверу. Раздел формы завершается кнопками "<b>Применить</b>" и
      "<b>Сброс</b>", предназначенными для отправки введённых данных
      на обработку и возврату параметров в исходное состояние.
    </p>
  </body>
</html>
